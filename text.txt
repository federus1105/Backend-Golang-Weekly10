services:
  postgres:
    image: postgres:latest
    environment:
    - POSTGRES_PASSWORD=44bbc068dd8e4be8
    - POSTGRES_USER=rudi
    - POSTGRES_DB=rudi
    volumes:
    - pg-data:/var/lib/postgresql/data
    ports:
    - 8008:5432
    networks:
    - my-net
  backend:
    build:
      context: ./backend-golang # Ganti dengan path direktori kode Go-mu
      dockerfile: Dockerfile
    ports:
      - "8080:8080" # Contoh: jika backend-mu berjalan di port 8080
    networks:
      - my-net
    depends_on:
      - postgres # Pastikan backend menunggu postgres siap
networks:
  my-net:
volumes:
  pg-data:



  name: Building Image and Pushing to GHCR
on: [push]
jobs:
  Build-And-Publish:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository code
        uses: actions/checkout@v5
      - name: Build and publish a Docker image for ${{ github.repository }}
        uses: macbre/push-to-ghcr@master
        with:
          image_name: ${{ github.repository }} # it will be lowercased internally
          github_token: ${{ secrets.GITHUB_TOKEN }}



          <label>Pilih Tanggal:</label>
<select
  onChange={e => setSelectedDate(e.target.value)}
  value={selectedDate}
>
  <option value="">-- Pilih tanggal --</option>
  {scheduleOptions.map(sch => (
    <option key={sch.Id} value={sch.Date}>
      {sch.Date}
    </option>
  ))}
</select>

{selectedDate && (
  <>
    <label>Pilih Waktu:</label>
    <select onChange={e => setSelectedTime(e.target.value)} value={selectedTime}>
      <option value="">-- Pilih waktu --</option>
      {scheduleOptions
        .filter(sch => sch.Date === selectedDate)
        .map(sch => (
          <option key={sch.Id} value={sch.Time}>
            {sch.Time}
          </option>
        ))}
    </select>

    <label>Lokasi:</label>
    <select onChange={...} value={selectedLocation}>
      <option value="">-- Pilih lokasi --</option>
      {scheduleOptions
        .filter(sch => sch.Date === selectedDate && sch.Time === selectedTime)
        .map(sch => (
          <option key={sch.Id} value={sch.Location}>
            {sch.Location}
          </option>
        ))}
    </select>
  </>
)}
